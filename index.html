<html>
<head>
  <script type="module" src="code.js"></script>
  <script type="module" src="hero.js"></script>
<meta charset="UTF-8">
<title>My Text Adventure</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    background: #000;
    color: rgb(192, 192, 192);
    font-family: 'Times New Roman', monospace;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    background: radial-gradient(circle at center, #001100, #000);
  }

  #title-screen {
    text-align: center;
    animation: fadeIn 2s ease-in;
  }

  h1 {
    font-size: 4rem;
    margin: 0;
    letter-spacing: 0.5rem;
    text-shadow: 0 0 20px rgb(76, 0, 255);
    animation: glow 2s infinite alternate;
  }

  p.subtitle {
    font-size: 1.3rem;
    margin: 2rem 0;
    opacity: 0.8;
    animation: fadeIn 3s ease-in;
  }

  .press-any-key {
    margin-top: 4rem;
    font-size: 1.2rem;
    opacity: 0;
    animation: blink 1.5s infinite, fadeIn 1s 2s forwards;
  }

  @keyframes glow {
    from { text-shadow: 0 0 10px #8c00ff; }
    to   { text-shadow: 0 0 30px #8c00ff, 0 0 50px #8c00ff; }
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @keyframes blink {
    0%, 100% { opacity: 0.4; }
    50% { opacity: 1; }
  }

  #game { display: none; }
</style>
</head>
<body>

<div id="title-screen">
  <h1>The Silver Lining</h1>
  <p class="subtitle">A text adventure by Charles Johnston · 2025</p>
  <div class="press-any-key">► Press any key to begin ◄</div>
</div>

<div id="game">
  <pre id="output"></pre>
  <div>> <input type="text" id="input" autofocus autocomplete="off"></div>
</div>

<script>
  const titleScreen = document.getElementById('title-screen');
  const game = document.getElementById('game');
  const output = document.getElementById('output');
  const input = document.getElementById('input');
  let playerName = '';  // Variable to store the player's name

  document.body.addEventListener('keydown', startGame);
  document.body.addEventListener('click', startGame);
  document.body.addEventListener('touchstart', startGame);

  function startGame(e) {
    document.body.removeEventListener('keydown', startGame);
    document.body.removeEventListener('click', startGame);
    document.body.removeEventListener('touchstart', startGame);

    titleScreen.style.animation = 'fadeOut 1s forwards';
    setTimeout(() => {
      titleScreen.style.display = 'none';
      game.style.display = 'block';
      initGame();
    }, 1000);
  }

  const style = document.createElement('style');
  style.textContent = `
    @keyframes fadeOut {
      from { opacity: 1; }
      to   { opacity: 0; transform: scale(0.95); }
    }
  `;
  document.head.appendChild(style);

  function initGame() {
    output.textContent = "Welcome.\n\nYou wake up in the tavern known as The Lucky Maiden.\n\nAfter a drunken night out... Do you remember your name?";
    input.focus();
    input.addEventListener('keypress', handleInput);  // Listen for Enter key
  }

  function handleInput(e) {
    if (e.key === 'Enter') {
      const userInput = input.value.trim();
      if (userInput === '') {
        output.textContent += '\n\nPlease enter your name.';
        input.value = '';
        return;
      }

      
      playerName = userInput;
      advanceStory();
    }
  }

  function advanceStory() {
    
    input.value = '';

    
    output.textContent += `\n\nAh, yes, ${playerName}. That's right.\n\nYour head is killing you from the night out and you're having a hard time remembering a few things about yourself.\n\n Were you a warrior, rogue, or mage type of combatant?`;
    
    
    
    input.focus();
    
    // You can add more logic here for further inputs, like checking commands
    // e.g., if (userInput.toLowerCase() === 'talk to bartender') { ... }
  }
</script>
</body>
</html>